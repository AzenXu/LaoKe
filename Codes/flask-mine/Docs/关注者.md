# 关注者
## 随便聊聊
这一章是关于好友关系的，关键点在于多对多的关系。

## 数据库关系
### 一对多关系
需要在「多」这一侧加入一个外键，指向「一」这一侧联结的记录。

举例：用户角色（一） & 用户（多）、用户（一） & 文章（多）

### 多对多关系
如果按之前的逻辑，加入的外键数应该和其被联结的东东数量一致。但是多对多意味着，被联结的东东的数量是不确定的

方案：找一个中间的东西，这个东西
1. 和学生是一（学生）对多（这个东西）
2. 和课程是一（课程）对多（这个东西）

思考一下，这个东西，其实就是「学生和课程的关系」的这么个东西。

「学生和课程的关系表」:由一个学生和一个课程的关系，所组成的表

### 自引用关系
表示用户之间的关注关系时，只有用户这一个实体...如何实现这种关系？

如果关系中的两侧，都在同一个表中，那么这种关系叫做自引用关系。 - 一种特殊的多对多关系，也可以用增加一个表的方式实现

### 高级多对多关系
按理来说，保存多对多关系的时候，新增的关系表，只要有两个字段就好：关注者id和被关注者id。

但是，如果在关系里面再增加一些属性，比如关系建立的时间，就可以按时间顺序列出所有关注者了。

为了能给关系追加属性，需要提升关联表的地位，而不是系统管理的内部表

用法参见：app/models/user.py